<html>

<head>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <style>
    .container {
      height: 200px;
      width: 80vw;
      left: 10vw;
      position: absolute;
      border: 3px solid green;
      z-index: 1;
      bottom: 10%;
    }
    
    .center {
      margin: 0;
      position: absolute;
      top: 50%;
      left: 50%;
      -ms-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
    }
    </style>
</head>

<body>
  <a-scene inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false" style="z-index: 0; position: absolute;">
    <a-assets>
      <a-asset-item id="reel" src="/3D_assets/reel.glb"></a-asset-item>
    </a-assets>
    <a-camera fov="50" position="0 1.5 0" wasd-controls-enabled="enabled" look-controls-enabled="enabled"></a-camera>
    <a-sky color="#ECECEC" material="" geometry=""></a-sky>
    <a-entity id="reel0" gltf-model="#reel" position="-0.3 1.5 -3" rotation="0 0 0" animation="property: rotation; to: 0 0 0; dur: 2000; easing: linear; loop: false"></a-entity>
    <a-entity id="reel1" gltf-model="#reel" position="0 1.5 -3" rotation="0 0 0" animation="property: rotation; to: 0 0 0; dur: 2000; easing: linear; loop: false"></a-entity>
    <a-entity id="reel2" gltf-model="#reel" position="0.3 1.5 -3" rotation="0 0 0" animation="property: rotation; to: 0 0 0; dur: 2000; easing: linear; loop: false"></a-entity>
    <div class="a-loader-title" style="display: none;"></div>
  </a-scene>
  <div class="container">
    <div class="center">
      <button type="button" id="playBtn">ROLL REELS</button>
    </div>
  </div>
  <script>
    const element = document.getElementById("playBtn");
    element.addEventListener("click", function() {
      let reels = [];
      reels.push(document.getElementById("reel0"));
      reels.push(document.getElementById("reel1"));
      reels.push(document.getElementById("reel2"));
      let delay = 0;
      //document.getElementById("reel0").setAttribute("animation", "property: rotation; to: 360 0 0; dur: 2000; easing: linear; loop: false")
      reels.forEach(element => {
        console.log("Reels rolling");
        // tried delay for each reel, doesn't work yet
        // for what ever reason this needs to be reset first
        element.setAttribute("animation", "property: rotation; from: 0 0 0; to: 0 0 0");
        element.setAttribute("animation", "property: rotation; from: 0 0 0; to: 360 0 0; delay: "+delay+"");
        delay += 200;
      });
    });
    </script>
</body>

</html>